<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Información de Star Wars</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>

<body class="aparicion video-fondo">

    <video id="video" autoplay muted loop playsinline>
        <source src="video_menu.mp4" type="video/mp4">
    </video>

    <header class="header">
        <a href="menu.html">
            <img src="logo2.png" class="logo">
        </a>
    </header>

    <div id="carouselExampleSlidesOnly" class="carousel slide" data-bs-ride="carousel" data-bs-interval="3000"
        data-bs-pause="false">
        <div class="carousel-inner">
            <div class="carousel-item active">
                <img class="d-block w-100" src="wallpaper1.jpg" alt="First slide">
            </div>
            <div class="carousel-item">
                <img class="d-block w-100" src="wallpaper3.png" alt="Second slide">
            </div>
            <div class="carousel-item">
                <img class="d-block w-100" src="wallpaper2.jpg" alt="Third slide">
            </div>
            <div class="carousel-item">
                <img class="d-block w-100" src="wallpaper3.jpg" alt="Four slide">
            </div>
            <div class="carousel-item">
                <img class="d-block w-100" src="wallpaper4.jpg" alt="Third slide">
            </div>
        </div>
    </div>

    <div id="carouselExampleIndicators" class="carousel slide">
        <div class="carousel-indicators">
            <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="0" class="active"
                aria-current="true" aria-label="Slide 1"></button>
            <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="1"
                aria-label="Slide 2"></button>
            <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="2"
                aria-label="Slide 3"></button>
            <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="3"
                aria-label="Slide 4"></button>
        </div>
        <div class="carousel-inner">
            <div class="carousel-item active">

                <div class="presentacion">
                    <img src="death.png">
                    <div class="contenido">
                        <h1>Darth Vader</h1>
                        <p>
                            Una vez que el heroico Caballero Jedi llamó a Anakin Skywalker, Darth Vader fue seducido por
                            el lado oscuro de la Fuerza. Siempre marcado por su derrota en Mustafar, Vader se transformó
                            en un Lord Sith cibernéticamente mejorado. En los albores del Imperio, Vader dirigió la
                            erradicación de la Orden Jedi por parte de las Empireadas y la búsqueda de sobrevivientes.
                            Permaneció al servicio del Emperador, el malvado Darth Sidious, durante décadas, haciendo
                            cumplir su voluntad de Maestría y tratando de aplastar a la Alianza Rebelde y otros
                            detractores
                        </p>
                    </div>
                </div>

            </div>
            <div class="carousel-item">

                <div class="presentacion">
                    <img src="Luke.png">
                    <div class="contenido">
                        <h1>Luke Skywalkerr</h1>
                        <p>
                            Humano sensible a la Fuerza y un Maestro Jedi quien, junto a su hermana gemela, la Princesa
                            Leia Organa, luchó en contra del gobierno del Imperio Galáctico durante la Guerra Civil
                            Galáctica. Hijo del Caballero Jedi Anakin Skywalker y de la Senadora Padmé Amidala de Naboo.
                        </p>
                    </div>
                </div>

            </div>

            <div class="carousel-item">

                <div class="presentacion">
                    <img src="Leia.png">
                    <div class="contenido">
                        <h1>Leia Organa</h1>
                        <p>
                            Humano sensible a la Fuerza y un Maestro Jedi quien, junto a su hermana gemela, la Princesa
                            Leia Organa, luchó en contra del gobierno del Imperio Galáctico durante la Guerra Civil
                            Galáctica. Hijo del Caballero Jedi Anakin Skywalker y de la Senadora Padmé Amidala de Naboo.
                        </p>
                    </div>
                </div>

            </div>

            <div class="carousel-item">

                <div class="presentacion">
                    <img src="C-3PO.png">
                    <div class="contenido">
                        <h1>C-3PO</h1>
                        <p>
                            C-3PO fue reconstruido a partir de piezas de repuesto por Anakin Skywalker, un esclavo
                            humano que vivía en Mos Espa, una ciudad en el mundo del Borde Exterior de Tatooine. Poco
                            después de las Guerras Clon, la memoria de C-3PO fue borrada, aunque la de R2-D2 no. C-3PO y
                            R2-D2 fueron asignados al crucero de Alderaan Tantive IV, donde sirvieron al senador Bail
                            Organa durante diecinueve años.
                        </p>
                    </div>
                </div>


            </div>
        </div>
        <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleIndicators"
            data-bs-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Previous</span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleIndicators"
            data-bs-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Next</span>
        </button>
    </div>



    <div class="todo">
        <div class="container">
            <div id="personajes-lista">

            </div>
        </div>
    </div>

    <script>
        const personajesListaDiv = document.getElementById('personajes-lista');

        personajesListaDiv.innerHTML = `
    
<div aria-label="Orange and tan hamster running in a metal wheel" role="img" class="wheel-and-hamster">
	<div class="wheel"></div>
	<div class="hamster">
		<div class="hamster__body">
			<div class="hamster__head">
				<div class="hamster__ear"></div>
				<div class="hamster__eye"></div>
				<div class="hamster__nose"></div>
			</div>
			<div class="hamster__limb hamster__limb--fr"></div>
			<div class="hamster__limb hamster__limb--fl"></div>
			<div class="hamster__limb hamster__limb--br"></div>
			<div class="hamster__limb hamster__limb--bl"></div>
			<div class="hamster__tail"></div>
		</div>
	</div>
	<div class="spoke"></div>
</div>
    
    `;

        setTimeout(() => {
            obtenerTodosLosPersonajes();
        }, 6000);

        async function obtenerTodosLosPersonajes() {

            let nextUrl = 'https://swapi.py4e.com/api/people/';
            const todosLosPersonajes = [];


            while (nextUrl) {
                const respuesta = await fetch(nextUrl);
                const datos = await respuesta.json();
                todosLosPersonajes.push(...datos.results);
                nextUrl = datos.next;
            }

            personajesListaDiv.innerHTML = `
            <input type="text" id="search" placeholder="Buscar personajes..." class="form-control mb-3">
           
            `;

            document.getElementById('search').addEventListener('input', filtrarPersonajes);

            todosLosPersonajes.forEach(personaje => {
                const personajeDiv = document.createElement('div');
                personajeDiv.classList.add('divdiv');
                const tarjeta = document.createElement("div");
                tarjeta.classList.add("tarjeta");
                personajeDiv.appendChild(tarjeta);
                tarjeta.innerHTML = `
                <h2>${personaje.name}</h2>
                <div class="tarjeta-contenido">
                <p><strong>Altura:</strong> ${personaje.height} cm</p>
                <p><strong>Masa:</strong> ${personaje.mass} kg</p>
                <p><strong>Color de pelo:</strong> ${personaje.hair_color}</p>
                <p><strong>Color de piel:</strong> ${personaje.skin_color}</p>
                <p><strong>Color de ojos:</strong> ${personaje.eye_color}</p>
                <p><strong>Año de nacimiento:</strong> ${personaje.birth_year}</p>
                <p><strong>Género:</strong> ${personaje.gender}</p>
                </div>
            `;
                personajesListaDiv.appendChild(personajeDiv);
            });
        }

    function filtrarPersonajes() {
            const searchInput = document.getElementById('search');
            const filter = searchInput.value.toLowerCase();
            const personajesDivs = document.querySelectorAll('.divdiv');

            personajesDivs.forEach(div => {
                const nombre = div.querySelector('h2').textContent.toLowerCase();
                if (nombre.includes(filter)) {
                    div.style.display = '';
                } else {
                    div.style.display = 'none';
                }
            });
        }

        

    </script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>

</html>